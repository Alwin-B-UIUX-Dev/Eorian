#!/usr/bin/env sh
commit_msg=$(cat "$1")

 # VÃ©rifie le format
if ! echo "$commit_msg" | grep -qE "^(feat|fix|docs|style|refactor|test|chore): "; then
    echo ""
    echo "âŒ Message de commit invalide: $commit_msg"
    echo "âœ… Formats acceptÃ©s: feat:, fix:, docs:, style:, etc."
    echo "ğŸ’¡ Exemple: git commit -m \"feat: nouvelle fonctionnalitÃ©\""
    echo ""
    exit 1
fi

# ENSUITE commitlint (vÃ©rifications supplÃ©mentaires)
npx commitlint --edit "$1"

echo "âœ… Message de commit valide: $commit_msg"
